<!DOCTYPE html>
<html lang="en">
<head>
    <!-- SECTION 1: HTML DOCUMENT HEADER -->
    <!-- This section handles: Document metadata and external resources -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClassCart - Shopping Cart</title>
    
    <!-- SECTION 2: VUE 2.7.8 CDN IMPLEMENTATION -->
    <!-- This section handles: Loading Vue 2.7.8 framework -->
    <!-- Using Vue 2.7.8 (not Vue 3) as required -->
    <!-- CDN approach avoids build tools and keeps it simple -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.8/dist/vue.js"></script>
    
    <!-- SECTION 3: CSS STYLING -->
    <!-- This section handles: External stylesheet reference -->
    <!-- Removed all CSS to keep it simple and defensible -->
    <!-- Uses default browser styling -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet"><!-- Font Awesome for cart icon -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" />
   <link rel="stylesheet" href="style.css">

</head>
<body class="body">
    <!-- SECTION 4: VUE APPLICATION ROOT -->
    <!-- This section handles: Vue instance mounting point -->
    <!-- Vue 2 mounts to this div with id="app" -->
    <!-- This is the root element for our Vue application -->
    <div id="app">
        
        <!-- SECTION 5: APPLICATION HEADER -->
        <!-- This section handles: Page title and cart counter display -->
        <!-- Vue 2 text interpolation using {{ }} syntax -->
        <!-- cart.length is reactive - updates automatically when cart changes -->
        <header class="header">
            <h1>ClassCart - Shopping Cart</h1>
            <div class="cart-info">
                <i class="fa-solid fa-cart-shopping"></i>
                Cart Items: {{ cart.length }}
            </div>
        </header>

        <main>
            <!-- SECTION 6: NAVIGATION -->
            <!-- This section handles: Navigation between pages -->
            <!-- @click="goToProducts" navigates back to main products page -->
            <nav class="navigation">
                <button @click="goToProducts" class="nav-btn">
                    <i class="fa-solid fa-arrow-left"></i> Back to Products
                </button>
            </nav>

            <!-- SECTION 7: SHOPPING CART -->
            <!-- This section handles: Displaying cart contents and management -->
            <!-- v-if="cart.length > 0" shows cart only when items exist -->
            <!-- This is conditional rendering - core Vue 2 feature -->
            <!-- Cart section appears/disappears based on cart state -->
            <section v-if="cart.length > 0" class="cart">
                <h2>Shopping Cart</h2>
                
                <!-- SECTION 7A: CART ITEMS DISPLAY -->
                <!-- This section handles: Showing items currently in cart -->
                <!-- v-for="item in cart" loops through cart items -->
                <!-- :key="item.id" provides unique key for each item -->
                <!-- Uses same product card layout as main page -->
                <div class="product-list">
                    <div v-for="item in cart" :key="item.id" class="product">
                        
                        <!-- SECTION 7B: CART ITEM MANAGEMENT -->
                        <!-- This section handles: Individual cart item display and removal -->
                        <!-- {{ item.name }}, {{ item.price }}, and {{ item.cartQuantity }} show item details -->
                        <!-- @click="removeFromCart(item)" handles remove action -->
                        <!-- Same format as main products page -->
                        <h3>{{ item.name }}</h3>
                        <p>Location: {{ item.Location }}</p>
                        <p class="price">Price: {{ item.price }}</p>
                        <p class="spaces">Quantity in Cart: {{ item.cartQuantity }}</p>
                        <p class="subtotal">Subtotal: £{{ (parseFloat(item.price.replace('£', '')) * item.cartQuantity) }}</p>
                        
                        <button @click="removeFromCart(item)" class="button remove-btn">Remove from Cart</button>
                    </div>
                </div>
                
                <!-- SECTION 7C: CART TOTAL CALCULATION -->
                <!-- This section handles: Displaying total price of cart items -->
                <!-- {{ total }} displays computed total from Vue instance -->
                <!-- total is a computed property that calculates sum of cart items -->
                <!-- Computed properties are reactive and cache results -->
                <div class="total">
                    <h3>Total: £{{ total }}</h3>
                </div>
                
                <!-- SECTION 7D: CHECKOUT FORM -->
                <!-- This section handles: Customer checkout form -->
                <!-- v-model binds form inputs to Vue data -->
                <!-- @submit.prevent prevents default form submission -->
                <!-- Minimalistic design with clean, simple styling -->
                <form @submit.prevent="submitCheckout" class="checkout-form">
                    <h3>Checkout</h3>
                    
                    <input 
                        type="text" 
                        v-model="checkoutForm.name" 
                        required
                        placeholder="Full Name"
                        class="minimal-input"
                    >
                    <span v-if="validationErrors.name" class="error">{{ validationErrors.name }}</span>
                    
                    <input 
                        type="email" 
                        v-model="checkoutForm.email" 
                        required
                        placeholder="Email"
                        class="minimal-input"
                    >
                    <span v-if="validationErrors.email" class="error">{{ validationErrors.email }}</span>
                    
                    <textarea 
                        v-model="checkoutForm.address" 
                        required
                        placeholder="Address"
                        rows="2"
                        class="minimal-textarea"
                    ></textarea>
                    <span v-if="validationErrors.address" class="error">{{ validationErrors.address }}</span>
                    
                    <button type="submit" class="minimal-btn" :disabled="isSubmitting">
                        {{ isSubmitting ? 'Processing...' : 'Complete Purchase' }}
                    </button>
                </form>
                
                <!-- SECTION 7E: CHECKOUT SUCCESS MESSAGE -->
                <!-- This section handles: Success message after checkout -->
                <!-- v-if="checkoutSuccess" shows success message -->
                <div v-if="checkoutSuccess" class="success-message">
                    <h3>✅ Checkout Successful!</h3>
                    <p>Thank you for your purchase, {{ checkoutForm.name }}!</p>
                    <p>Your order total was £{{ total }}.</p>
                    <p>We'll send a confirmation email to {{ checkoutForm.email }}.</p>
                </div>
            </section>

            <!-- SECTION 8: EMPTY CART STATE -->
            <!-- This section handles: Showing message when cart is empty -->
            <!-- v-if="cart.length === 0" shows empty message when cart is empty -->
            <!-- This is another example of conditional rendering -->
            <!-- Shows different content based on application state -->
            <div v-if="cart.length === 0" class="empty-cart">
                <h2>Your cart is empty</h2>
                <p>Add some products to get started!</p>
                <button @click="goToProducts" class="nav-btn">
                    <i class="fa-solid fa-shopping-bag"></i> Browse Products
                </button>
            </div>
        </main>
    </div>

    <!-- SECTION 9: VUE JAVASCRIPT IMPLEMENTATION -->
    <!-- This section handles: Loading Vue 2 application logic -->
    <!-- cart.js contains the Vue instance with Options API -->
    <!-- Uses data, computed, methods - core Vue 2 features -->
    <!-- No advanced features like watchers, emits, props, etc. -->
    <script src="cart.js"></script>
</body>
</html>
